```html
<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>D≈©ng Ny Rhythm</title>

<style>
body{
    background:#0b1220;
    font-family:Arial;
    display:flex;
    flex-direction:column;
    align-items:center;
    margin:0;
    color:white;
}

/* ===== GAME ===== */
#game{
    position:relative;
    width:320px;
    height:600px;
    background:#111827;
    border:5px solid #06b6d4;
    overflow:hidden;
    margin-top:20px;
}

/* 4 c·ªôt */
.lane{
    position:absolute;
    width:25%;
    height:100%;
    border-left:2px solid #1f2937;
}
.lane:nth-child(2){left:25%;}
.lane:nth-child(3){left:50%;}
.lane:nth-child(4){left:75%;}

/* v√πng hit */
#hitZone{
    position:absolute;
    bottom:0;
    width:100%;
    height:120px;
    background:linear-gradient(#22c55e,#16a34a);
}

/* √¥ r∆°i */
.note{
    position:absolute;
    width:25%;
    height:70px;
    background:white;
    color:black;
    border-radius:12px;
    border:3px solid black;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:bold;
    font-size:22px;
}

/* panel */
#panel{
    margin-top:15px;
    display:flex;
    gap:20px;
}
.box{
    width:150px;
    height:70px;
    border-radius:18px;
    background:#1f2937;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:22px;
    border:2px solid #06b6d4;
}

/* controls */
#controls{
    width:320px;
    display:flex;
}
.controlBtn{
    width:25%;
    height:90px;
    background:#1f2937;
    border:2px solid #334155;
    font-size:30px;
    display:flex;
    justify-content:center;
    align-items:center;
    user-select:none;
}
.controlBtn:active{background:#475569;}

/* popup nh·∫≠p t√™n */
#namePopup{
position:fixed;
top:0;left:0;
width:100%;height:100%;
backdrop-filter:blur(8px);
background:rgba(0,0,0,0.6);
display:flex;
justify-content:center;
align-items:center;
z-index:10;
}
#namePopup .box{
background:#020617;
padding:30px;
border-radius:20px;
text-align:center;
}
#namePopup input{
padding:10px;
border-radius:10px;
border:none;
margin-top:15px;
}
#namePopup button{
margin-top:15px;
padding:10px 20px;
border:none;
border-radius:10px;
background:#22c55e;
font-weight:bold;
}

/* leaderboard */
#leaderboardScreen{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:#020617;
z-index:9;
text-align:center;
padding-top:40px;
}
.rank{
padding:6px;
font-size:20px;
}
</style>
</head>

<body>

<h1>D≈©ng Ny Rhythm</h1>

<div id="game">
<div id="hitZone"></div>
<div class="lane"></div>
<div class="lane"></div>
<div class="lane"></div>
<div class="lane"></div>
</div>

<div id="controls">
<div class="controlBtn" data-lane="0">‚Üê</div>
<div class="controlBtn" data-lane="1">‚Üë</div>
<div class="controlBtn" data-lane="2">‚Üì</div>
<div class="controlBtn" data-lane="3">‚Üí</div>
</div>

<div id="panel">
<div id="scoreBox" class="box">ƒêi·ªÉm: 0</div>
<div id="highScore" class="box">K·ª∑ l·ª•c: 0</div>
</div>

<!-- Popup nh·∫≠p t√™n -->
<div id="namePopup">
<div class="box">
<h2>Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n cho D≈©ng Ny bi·∫øt..</h2>
<input id="playerNameInput" placeholder="T√™n c·ªßa b·∫°n">
<br>
<button onclick="saveName()">B·∫Øt ƒë·∫ßu</button>
</div>
</div>

<!-- Leaderboard -->
<div id="leaderboardScreen">
<h1>B·∫†N ƒê√É THUA</h1>
<h2 id="yourScore"></h2>
<h2>üèÜ TOP 10 NG∆Ø·ªúI CH∆†I</h2>
<div id="leaderboardList"></div>
<button onclick="location.reload()">Ch∆°i l·∫°i</button>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<script>
const firebaseConfig={
apiKey:"AIzaSyDczjKA_fSiNItMn8WTdvAC_eeMjOJjIm8",
authDomain:"dungnygame.firebaseapp.com",
databaseURL:"https://dungnygame-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId:"dungnygame",
storageBucket:"dungnygame.firebasestorage.app",
messagingSenderId:"826944055019",
appId:"1:826944055019:web:2f1ff304015fcf544f00ae"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.database();

/* ===== GAME VARIABLES ===== */
const game=document.getElementById("game");
let notes=[];
let score=0;
let speed=2.8;
let spawnTime=1500;
let spawner=null;
let gameRunning=false;

/* high score */
let highScore=localStorage.getItem("arrowHighScore")||0;
document.getElementById("highScore").innerText="K·ª∑ l·ª•c: "+highScore;

/* ch·ªØ tu·∫ßn t·ª± */
const words=["d≈©ng","y√™u","sa","ny"];
let wordIndex=0;

/* ===== NAME ===== */
let playerName=localStorage.getItem("playerName");

if(playerName){
document.getElementById("namePopup").style.display="none";
startGame();
}

/* l∆∞u t√™n */
function saveName(){
let name=document.getElementById("playerNameInput").value.trim();
if(name.length<2){alert("T√™n qu√° ng·∫Øn!");return;}
localStorage.setItem("playerName",name);
playerName=name;
document.getElementById("namePopup").style.display="none";
startGame();
}

/* ===== START GAME ===== */
function startGame(){
if(gameRunning)return;
gameRunning=true;
spawner=setInterval(spawnNote,spawnTime);
}

/* spawn */
function spawnNote(){
if(!gameRunning)return;
let lane=Math.floor(Math.random()*4);
let note=document.createElement("div");
note.className="note";
note.style.left=(lane*25)+"%";
note.style.top="-80px";
note.innerText=words[wordIndex];
wordIndex=(wordIndex+1)%words.length;
game.appendChild(note);
notes.push({element:note,lane:lane,y:-80});
}

/* update loop (ch·∫°y n·ªÅn lu√¥n) */
function update(){
if(gameRunning){
for(let i=0;i<notes.length;i++){
let n=notes[i];
n.y+=speed;
n.element.style.top=n.y+"px";
if(n.y>600){gameOver();return;}
}
}
requestAnimationFrame(update);
}
update();

/* hit */
function tryHit(lane){
let zoneTop=480; // 25% v√πng xanh v·∫´n t√≠nh
for(let i=0;i<notes.length;i++){
let n=notes[i];
if(n.lane===lane && n.y+70>=zoneTop){
n.element.remove();
notes.splice(i,1);
score++;
document.getElementById("scoreBox").innerText="ƒêi·ªÉm: "+score;

/* k·ª∑ l·ª•c c√° nh√¢n */
if(score>highScore){
highScore=score;
localStorage.setItem("arrowHighScore",highScore);
document.getElementById("highScore").innerText="K·ª∑ l·ª•c: "+highScore;
}

/* tƒÉng t·ªëc */
if(score%10===0){
spawnTime-=100;
if(spawnTime<750)spawnTime=750;
clearInterval(spawner);
spawner=setInterval(spawnNote,spawnTime);
}
return true;
}
}
return false;
}

/* keyboard */
document.addEventListener("keydown",e=>{
const map={ArrowLeft:0,ArrowUp:1,ArrowDown:2,ArrowRight:3};
if(e.key in map){
if(!tryHit(map[e.key]))gameOver();
}
});

/* mobile */
document.querySelectorAll(".controlBtn").forEach(btn=>{
btn.addEventListener("touchstart",()=>{
let lane=Number(btn.dataset.lane);
if(!tryHit(lane))gameOver();
});
});

/* game over */
function gameOver(){
if(!gameRunning)return;
gameRunning=false;
clearInterval(spawner);
uploadScore(score);
setTimeout(showLeaderboard,500);
}

/* upload score */
function uploadScore(s){
if(!playerName)return;
db.ref("leaderboard").push({
name:playerName,
score:s,
time:Date.now()
});
}

/* leaderboard realtime */
function showLeaderboard(){
document.getElementById("leaderboardScreen").style.display="block";
document.getElementById("yourScore").innerText="ƒêi·ªÉm c·ªßa b·∫°n: "+score;

db.ref("leaderboard")
.orderByChild("score")
.limitToLast(10)
.on("value",snap=>{
let arr=[];
snap.forEach(c=>arr.push(c.val()));
arr.sort((a,b)=>b.score-a.score);

let html="";
arr.forEach((p,i)=>{
html+=`<div class="rank">${i+1}. ${p.name} ‚Äî ${p.score}</div>`;
});

document.getElementById("leaderboardList").innerHTML=html;
});
}
</script>

</body>
</html>
```
